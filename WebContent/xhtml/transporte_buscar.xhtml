<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
<title>Buscar Transporte</title>
</h:head>
<h:body>
<h1>Buscar Transporte</h1>

<h:form id="formulario1">
<table border="1" align="center" style="border-collapse:collapse;">
<tr><th colspan="4" style="padding:10px;">BÚSQUEDA DE TRANSPORTES</th></tr>
<tr>
<td colspan="1">
<h:outputText value="Ingresar descripción del transporte"></h:outputText>
</td>
<td colspan="1">
<h:inputText value="#{TransporteBean.descTransporte}"></h:inputText>
</td>
<!-- Había un código de más en esta parte -->
<td>
<!-- 	Cambiamos ciertos parámetros -->
<!-- 	El FormBean.option lo cambiamos por una variable que crearemos en el TransporteBean, le llamaremos -->
<!-- 	"TransporteBean.opcion" (aun no existe, recien la crearemos)  -->
<!-- El layout lo cambiamos por "lineDirection" -->
		<p:selectOneRadio id="customRadio" value="#{TransporteBean.opcion}" 
		layout="lineDirection">
		
<!-- 		Las opciones que usaremos son "Buscar por descripción" (1) y "Buscar por tipo de Transporte" (2) -->
			
			<f:selectItem itemLabel="Buscar por descripción" itemValue="1" /> 
			<f:selectItem itemLabel="Buscar por tipo de Transporte" itemValue="2" />
		</p:selectOneRadio>
</td>
<td>
<h:commandButton value="Buscar" actionListener="#{TransporteBean.listar_por_descripcion}" action="TRANSPORTE_BUSCAR"/>
</td>
</tr>
<tr>
<td colspan="4">

	<p:dataTable  rows="5" var="transportes" value="#{TransporteBean.listaTransporte}" border="2" paginator="true" >
			<f:facet name="header">
				<h:outputText value="Lista de Transportes"/>
			</f:facet>
			
			<p:column>
				<f:facet name="header"><h:outputText value="ID"/></f:facet>
				<h:outputText value="#{transportes.idTransporte}"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="DESCRIPCION"/></f:facet>
				<h:outputText value="#{transportes.descTransporte}"></h:outputText>
			</p:column>
			
<!-- 			<p:column> -->
<!-- 				<f:facet name="header"><h:outputText value="ID TIPO"/></f:facet> -->
<!-- 				<h:outputText value="#{transportes.idTipoTransporte.idTipoTransporte}"></h:outputText> -->
<!-- 			</p:column> -->
			
<!-- 			<p:column> -->
<!-- 				<f:facet name="header"><h:outputText value="TIPO"/></f:facet> -->
<!-- 				<h:outputText value="#{transportes.idTipoTransporte.descTipoTransporte}"></h:outputText> -->
<!-- 			</p:column> -->
			
				
			<p:column>
				<f:facet name="header"><h:outputText value="TIPO"/></f:facet>
				<h:outputText value="#{transportes.idTipoTransporte.descTipoTransporte} [#{transportes.idTipoTransporte.idTipoTransporte}"></h:outputText>
			</p:column>
			
			
			<p:column>
				<f:facet name="header"><h:outputText value="COSTO"/></f:facet>
				<h:outputText value="#{transportes.costo}"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="STOCK"/></f:facet>
				<h:outputText value="#{transportes.stock}"></h:outputText>
			</p:column>
			
<!-- 			<p:column> -->
<!-- 				<f:facet name="header"><h:outputText value="ID MODELO"/></f:facet> -->
<!-- 				<h:outputText value="#{transportes.idModelo.idModelo}"></h:outputText> -->
<!-- 			</p:column> -->
			
<!-- 			<p:column> -->
<!-- 				<f:facet name="header"><h:outputText value="MODELO"/></f:facet> -->
<!-- 				<h:outputText value="#{transportes.idModelo.descModelo}"></h:outputText> -->
<!-- 			</p:column> -->

			<p:column>
				<f:facet name="header"><h:outputText value="MODELO"/></f:facet>
				<h:outputText value="#{transportes.idModelo.descModelo} [#{transportes.idModelo.idModelo}]"></h:outputText>
			</p:column>
		
			
			<p:column>
				<f:facet name="header"><h:outputText value="ID MARCA"/></f:facet>
				<h:outputText value="#{transportes.idMarca.idMarca}"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="MARCA"/></f:facet>
				<h:outputText value="#{transportes.idMarca.descripcion}"></h:outputText>
			</p:column>
			
			<p:column>
				<f:facet name="header"><h:outputText value="REGISTRO"/></f:facet>
				<h:outputText value="#{transportes.fechaRegistro}"></h:outputText>
			</p:column>
			
			
			<p:column>
				<f:facet name="header"><h:outputText value="Acción"/></f:facet>
				
				<p:commandLink value="Eliminar" actionListener="#{TransporteBean.seleccionar_fila}" onclick="PF('confirmar').show();" >
					<f:attribute name="attr_idTransporte" value="#{transportes.idTransporte}"></f:attribute>
				</p:commandLink>
			
				<p:confirmDialog 
					message="¿Esta seguro de eliminar?" 
					header="Cuadro de confirmacion" 
					severity="alert" 
					widgetVar="confirmar">					
						<p:commandButton
							value="SI"
							ajax="true"
							update="formulario1"
							actionListener="#{TransporteBean.borrar}"  
							onclick="PF('confirmar').hide();" >
							</p:commandButton>
							
																
						<p:commandButton 
							value="NO" 
							onclick="PF('confirmar').hide();" 
							type="button" />
				</p:confirmDialog>
				
				
			</p:column>
			
			<f:facet name="footer">
				<h:outputText value="Existen #{TransporteBean.listaTransporte_size} registros"/>
			</f:facet>
	</p:dataTable>
</td>
</tr>
</table>


</h:form>

<h:form>
<h:commandLink action="PRINCIPAL" value="Regresar al principal"></h:commandLink>
</h:form>

</h:body>
</html>